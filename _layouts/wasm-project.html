<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {% seo %}
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
    <link rel="stylesheet" href="{{ "/assets/css/wasm-demo.css" | relative_url }}">
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="{{ "/" | absolute_url }}">{{ site.title | default: site.github.repository_name }}</a></h1>

        {% if site.logo %}
          <img src="{{site.logo | relative_url}}" alt="Logo" />
        {% endif %}

        <p>{{ site.description | default: site.github.project_tagline }}</p>

        <nav>
          <ul>
            {% for item in site.navigation %}
              <li><a href="{{ item.url | relative_url }}">{{ item.title }}</a></li>
            {% endfor %}
          </ul>
        </nav>

        {% if site.github.is_project_page %}
        <p class="view"><a href="{{ site.github.repository_url }}">View on GitHub <small>{{ site.github.repository_nwo }}</small></a></p>
        {% endif %}

        {% if site.author.github %}
        <p class="view"><a href="https://github.com/{{ site.author.github }}">GitHub Profile</a></p>
        {% endif %}

      </header>
      <section>

      <article class="wasm-project-demo">
        <h1>{{ page.title }}</h1>

        <!-- WebAssembly Demo Container -->
        <div class="demo-window">
          {% include wasm-loader.html %}

          <div id="canvas-container">
            <canvas id="canvas"
                    width="{{ page.canvas_width | default: 800 }}"
                    height="{{ page.canvas_height | default: 600 }}">
              Your browser does not support HTML5 canvas.
            </canvas>
          </div>

          <!-- Optional controls section if specified in front matter -->
          {% if page.show_controls %}
          <div class="controls-panel">
            <h3>Controls</h3>
            <div id="game-controls">
              <!-- Game-specific controls will be injected here by your WASM code -->
            </div>
          </div>
          {% endif %}
        </div>

        <!-- Project Information -->
        <div class="project-info">
          {{ content }}

          {% if page.technologies %}
          <h2>Technologies Used</h2>
          <ul class="tech-list">
            {% for tech in page.technologies %}
              <li>{{ tech }}</li>
            {% endfor %}
          </ul>
          {% endif %}

          {% if page.github_url %}
          <div class="project-links">
            <a href="{{ page.github_url }}" class="btn btn-github" target="_blank" rel="noopener">
              View Source on GitHub
            </a>
            {% if page.download_url %}
            <a href="{{ page.download_url }}" class="btn btn-download">
              Download Project
            </a>
            {% endif %}
          </div>
          {% endif %}

          <div class="back-link">
            <a href="{{ '/projects.html' | relative_url }}">‚Üê Back to Projects</a>
          </div>
        </div>
      </article>

      <!-- Load the WebAssembly JavaScript glue code -->
      <!-- The wasm_js_file should be specified in the page's front matter -->
      {% if page.wasm_js_file %}
      <script src="{{ page.wasm_js_file | relative_url }}"></script>
      {% endif %}

      </section>
      <footer>
        {% if site.github.is_project_page %}
        <p>This project is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a></p>
        {% endif %}
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="{{ "/assets/js/scale.fix.js" | relative_url }}"></script>
  </body>
</html>
